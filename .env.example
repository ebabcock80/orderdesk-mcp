# OrderDesk MCP Server - Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================================================
# REQUIRED
# ===========================================================================
# Master encryption key (REQUIRED) - Generate: openssl rand -base64 32
MCP_KMS_KEY=

# ===========================================================================
# CORE SERVER
# ===========================================================================
PORT=8080
DATABASE_URL=sqlite:///data/app.db
LOG_LEVEL=INFO

# ===========================================================================
# SECURITY
# ===========================================================================
TRUST_PROXY=false
RATE_LIMIT_RPM=120
AUTO_PROVISION_TENANT=false
WEBHOOK_SECRET=

# ===========================================================================
# CACHE
# ===========================================================================
CACHE_BACKEND=memory
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_ORDERS=15
CACHE_TTL_PRODUCTS=60

# ===========================================================================
# RESILIENCE
# ===========================================================================
HTTP_TIMEOUT=30
HTTP_MAX_RETRIES=3
MUTATION_MAX_RETRIES=5

# ===========================================================================
# WEBUI (Optional - disabled by default)
# ===========================================================================
ENABLE_WEBUI=false
ENABLE_PUBLIC_SIGNUP=false
JWT_SECRET_KEY=
SESSION_TIMEOUT=86400
MAGIC_LINK_EXPIRY=900

# ===========================================================================
# EMAIL (Required if ENABLE_WEBUI=true)
# ===========================================================================
REQUIRE_EMAIL_VERIFICATION=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASSWORD=
SMTP_FROM=OrderDesk MCP <noreply@example.com>
SMTP_TLS=true

# ===========================================================================
# WEBUI RATE LIMITING
# ===========================================================================
WEBUI_RATE_LIMIT_LOGIN=5
WEBUI_RATE_LIMIT_SIGNUP=2
WEBUI_RATE_LIMIT_API_CONSOLE=30

# ===========================================================================
# WEBUI FEATURES
# ===========================================================================
ENABLE_TRACE_VIEWER=true
ENABLE_AUDIT_LOG=true
AUDIT_LOG_RETENTION_DAYS=90

# ===========================================================================
# TESTING
# ===========================================================================
ORDERDESK_TEST_ENABLED=false
ORDERDESK_TEST_STORE_ID=
ORDERDESK_TEST_API_KEY=
